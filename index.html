<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Annual Badminton Tournament</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
  <style>
    body {
      margin: 0;
      font-family: 'Inter', sans-serif;
      background: linear-gradient(to right, #f0f4ff, #dbeafe);
      color: #1e3a8a;
    }
    header {
      background: url('https://upload.wikimedia.org/wikipedia/commons/e/e7/Badminton_pictogram.svg') no-repeat center right #1e3a8a;
      background-size: 80px;
      color: white;
      padding: 3rem 2rem;
      text-align: center;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    }
    nav {
      margin-top: 1rem;
    }
    nav a {
      color: white;
      margin: 0 1rem;
      text-decoration: none;
      font-weight: 600;
      font-size: 1rem;
    }
    .container {
      max-width: 1100px;
      margin: auto;
      padding: 2rem;
    }
    h2 {
      border-left: 5px solid #1e3a8a;
      padding-left: 1rem;
      margin-top: 3rem;
      font-size: 2rem;
    }
    section {
      margin-bottom: 3rem;
      background-color: white;
      padding: 2rem;
      border-radius: 0.75rem;
      box-shadow: 0 6px 12px rgba(0,0,0,0.05);
    }
    ul li {
      margin-bottom: 0.5rem;
    }
    footer {
      text-align: center;
      padding: 2rem;
      background-color: #dbeafe;
      font-size: 0.9rem;
      color: #1e3a8a;
    }
    .btn {
      background-color: #1e40af;
      color: white;
      padding: 0.75rem 1.25rem;
      border: none;
      border-radius: 8px;
      text-decoration: none;
      font-weight: 600;
      transition: background-color 0.3s;
      display: inline-block;
      margin-top: 1rem;
    }
    .btn:hover {
      background-color: #1e3a8a;
    }
    iframe {
      width: 100%;
      height: 600px;
      border: none;
      margin-top: 1rem;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      border-radius: 10px;
    }
    p {
      line-height: 1.6;
    }
  </style>

  <script src="https://unpkg.com/aos@2.3.4/dist/aos.js"></script>
  <link href="https://unpkg.com/aos@2.3.4/dist/aos.css" rel="stylesheet" />
  <script>
    document.addEventListener('DOMContentLoaded', AOS.init);
  </script>
  
</head>
<body>
  <header style="position:relative; background:#1e3a8a; color:white; padding:15px; text-align:center;">
    <!-- Title + Punchline -->
     <header style="text-align:center;">
      <h1 style="font-size:1.6rem; margin:0; line-height:1.4;">
        6th Annual Badminton Tournament 2025
        <span style="display:block; font-size:1.2rem; font-weight:normal;">
          Hosted by Jami Omar ‚Ä¢ Organized by MCC-NCR
        </span>
      </h1>
      <p style="margin:8px 0 0; font-size:1rem; font-style:italic;">
        "Bringing People Together Through Sports"
      </p>
    </header>
    
    <!-- Menu Button -->
    <button id="menu-btn" 
            style="position:absolute; right:10px; top:50%; transform:translateY(-50%); 
                  background:none; border:none; color:white; font-size:1.5rem; cursor:pointer;">
      ‚ò∞
    </button>
  </header>
  
  <nav id="mobile-menu" style="display:none; background:#1e3a8a; padding:10px;">
    <a href="#about" style="color:white; display:block; padding:8px;">About</a>
    <a href="#groups" style="color:white; display:block; padding:8px;">Groups</a>
    <a href="#schedule" style="color:white; display:block; padding:8px;">Schedule</a>
    <a href="#standings" style="color:white; display:block; padding:8px;">Standings</a>
    <a href="#qfranking" style="color:white; display:block; padding:8px;">QF Ranking</a>
    <a href="#format" style="color:white; display:block; padding:8px;">Format</a>
    <a href="#rules" style="color:white; display:block; padding:8px;">Rules</a>
  </nav>

  <script>
    const btn = document.getElementById('menu-btn');
    const menu = document.getElementById('mobile-menu');
    btn.addEventListener('click', () => {
      menu.style.display = menu.style.display === 'block' ? 'none' : 'block';
    });
  </script>

  <section id="about" data-aos="fade-up" style="padding: 3rem 1rem; background: linear-gradient(135deg, #f8fafc, #eef2ff);">
    <div style="max-width: 1100px; margin: auto; display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem;">
      
      <!--About Card-->
      <div style="background: white; border-radius: 16px; box-shadow: 0 4px 12px rgba(0,0,0,0.08); padding: 1.5rem;">
        <h2 style="color:#1e3a8a; margin-bottom: 1rem;">üè∏ About the Tournament</h2>
        <p style="margin-bottom: 1rem;">This tournament is held for the local community in a spirit of healthy competition and Islamic brotherhood.</p>
        <ul style="list-style: none; padding: 0; line-height: 1.6;">
          <li><strong>Event:</strong> Men‚Äôs Doubles Badminton Tournament</li>
          <li><strong>Dates:</strong> September 27th & 28th</li>
          <li><strong>Time:</strong> Between Dhuhr and Maghrib prayers</li>
          <li><strong>Location:</strong> 3990 Old Richmond Rd, Ottawa, ON K2H 8RS</li>
          <li><strong>Registration Fee:</strong> $30 per team</li>
          <li><strong>Registration Deadline:</strong> September 13th</li>
          <li>
            <strong>Registration Contact:</strong>
            <div style="margin-left:1rem;">
            <p>Tahawar M. Rana ‚Äì (613) 240-4027</p>
            <p>Ishtiaq Tarar   - (613) 805-2149</p>
            </div>   
          </li>
        </ul>
      </div>
     
      <!-- Fee Info Card -->
      <div style="background: white; border-radius: 16px; box-shadow: 0 4px 12px rgba(0,0,0,0.08); padding: 1.5rem;">
        <h2 style="color:#1e3a8a; margin-bottom: 1rem;">üí∞ Registration Fee Breakdown</h2>
        <ul style="list-style: none; padding: 0; line-height: 1.8;">
          <li>üè∏ Gym Rental and Equipment Setup</li>
          <li>üìã Logistics - Birdie fees</li>
          <li>üçé Refreshments</li>
        </ul>
        <p style="margin-top: 1rem; font-size: 0.9rem; color:#444;"><strong>Note:</strong> üèÜ Trophies and medals are <em>separately sponsored</em> and are <u>not funded from the registration fee.</u></p>
      </div>

      <!-- 
      <div style="background: white; border-radius: 16px; box-shadow: 0 4px 12px rgba(0,0,0,0.08); padding: 1.5rem; text-align:center;">
        <h2 style="color:#1e3a8a; margin-bottom: 1rem;">üìù Register Now</h2>
        <p style="margin-bottom: 1rem;">Only <strong>24 team slots</strong> available.<br> Registration will close automatically once full.</p>
        <p>
          <img src="images/qrcode-xs.png" alt="QR Code">
        </p>
        <p>
          üëâ <a href="https://forms.gle/cdgd3WZfc2hNPsk86" target="_blank" style="color:#2563eb; font-weight:bold; text-decoration:none;">
            Click here to register
          </a>
        </p>
      </div>
      Registration Card -->
    </div>
  </section>
  <section id="groups" data-aos="fade-up" style="padding: 3rem 1rem; background: linear-gradient(135deg, #f8fafc, #eef2ff);">
    <h2 style="text-align:center; margin-bottom:20px;">Tournament Groups</h2>
    <div id="tables-container"></div>
  </section>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      fetch('data/groups.json')
        .then(res => res.json())
        .then(data => {
          const container = document.getElementById('tables-container');
          Object.entries(data).forEach(([groupName, teams]) => {
            let tableHTML = `
              <table style="width:100%; border-collapse:collapse; background:white; border-radius:10px; overflow:hidden; box-shadow:0 4px 8px rgba(0,0,0,0.05);">
                <thead>
                  <tr style="background:#1e3a8a; color:white;">
                    <th colspan="3" style="padding:10px; text-align:center;">${groupName}</th>
                  </tr>
                  <tr style="background:#dbeafe;">
                    <th style="padding:8px; border-bottom:1px solid #ccc;">Group Prefix</th>
                    <th style="padding:8px; border-bottom:1px solid #ccc;">Team - Players</th>
                    <th style="padding:8px; border-bottom:1px solid #ccc;">Islamic Organization / Masjid Name</th>
                  </tr>
                </thead>
                <tbody>
            `;

            teams.forEach(team => {
              tableHTML += `
                <tr>
                  <td style="padding:8px; border-bottom:1px solid #eee; text-align:center;">${team.prefix}</td>
                  <td style="padding:8px; border-bottom:1px solid #eee; text-align:center;">${team.team}</td>
                  <td style="padding:8px; border-bottom:1px solid #eee; text-align:center;">${team.org}</td>
                </tr>
              `;
            });

            tableHTML += `</tbody></table>`;

            // Wrap each table in a div with margin-bottom for spacing
            const div = document.createElement('div');
            div.style.marginBottom = "20px";  // <-- add spacing between tables
            div.innerHTML = tableHTML;
            container.appendChild(div);
          });
        })
        .catch(err => console.error('Error loading groups.json:', err));
    });
  </script>
  <section id="schedule" data-aos="fade-up" style="padding: 3rem 1rem; background: linear-gradient(135deg, #f8fafc, #eef2ff);">
    <h2 style="text-align:center; margin-bottom:20px;">Match Schedule - (Sept 27, 2025)</h2>
    <div id="schedule-container"></div>
  </section>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const files = ["data/court_1.json", "data/court_2.json"];
      const container = document.getElementById('schedule-container');

      Promise.all(files.map(file => fetch(file).then(res => res.json())))
        .then(results => {
          results.forEach(data => {
            const courtName = Object.keys(data)[0];
            const games = data[courtName];

            let tableHTML = `
              <table style="width:100%; border-collapse:collapse; background:white; border-radius:10px; overflow:hidden; box-shadow:0 4px 8px rgba(0,0,0,0.05);">
                <thead>
                  <tr style="background:#1e3a8a; color:white;">
                    <th colspan="4" style="padding:10px; text-align:center;">${courtName}</th>
                  </tr>
                  <tr style="background:#dbeafe;">
                    <th style="padding:8px; border-bottom:1px solid #ccc; text-align:center;">Game No</th>
                    <th style="padding:8px; border-bottom:1px solid #ccc; text-align:center;">Teams</th>
                    <th style="padding:8px; border-bottom:1px solid #ccc; text-align:center;">Time</th>
                  </tr>
                </thead>
                <tbody>
            `;

            games.forEach(game => {
              tableHTML += `
                <tr>
                  <td style="padding:8px; border-bottom:1px solid #eee; text-align:center;">${game.game_no}</td>
                  <td style="padding:8px; border-bottom:1px solid #eee; text-align:center;">${game.teams}</td>
                  <td style="padding:8px; border-bottom:1px solid #eee; text-align:center;">${game.date_time}</td>
                </tr>
              `;
            });

            tableHTML += `</tbody></table>`;

            // Wrap each table in a div with spacing
            const div = document.createElement('div');
            div.style.marginBottom = "20px";
            div.innerHTML = tableHTML;
            container.appendChild(div);
          });
        })
        .catch(err => console.error('Error loading schedule JSON:', err));
    });
  </script>  
  <section id="standings">
    <h2 id="group-title" style="font-size: 1.8em;margin-bottom: 15px;">Group A Standings</h2>

    <!-- Navigation buttons -->
    <!-- Tabs -->
    <div style="margin-bottom:20px;">
      <button class="tab-btn" onclick="loadGroup('A')">Group A</button>
      <button class="tab-btn" onclick="loadGroup('B')">Group B</button>
      <button class="tab-btn" onclick="loadGroup('C')">Group C</button>
      <button class="tab-btn" onclick="loadGroup('D')">Group D</button>
      <button class="tab-btn" onclick="loadGroup('E')">Group E</button>
      <button class="tab-btn" onclick="loadGroup('F')">Group F</button>
    </div>

    <!-- Standings table -->
    <div class="table-container">
      <table id="standings-table" border="1" cellspacing="0" cellpadding="5">
        <thead>
          <tr>
            <th>Team</th>
            <th>Games Won</th>
            <th>Total Points</th>
            <th>Total Scores</th>
            <th>Diff.</th>
          </tr>
        </thead>
        <tbody>
          <!-- Filled by JavaScript -->
        </tbody>
      </table>
    </div>
  </section>
  <script>
  // JSON links for each group
  const groupLinks = {
    A: "data/groupA.json",
    B: "data/groupB.json",
    C: "data/groupC.json",
    D: "data/groupD.json",
    E: "data/groupE.json",
    F: "data/groupF.json"
  };

  async function loadGroup(group) {
    document.getElementById("group-title").textContent = `Group ${group} Standings`;

    const response = await fetch(groupLinks[group]);
    const data = await response.json();

    // ‚úÖ Sort: First by Points DESC, then by Differential DESC
    data.sort((a, b) => {
      if (b.Points !== a.Points) {
        return b.Points - a.Points;
      }
      return b.Diff - a.Diff;
    });

    const tbody = document.querySelector("#standings-table tbody");
    tbody.innerHTML = "";

    data.forEach(row => {
      // Your JSON uses "team" (lowercase) instead of "Team"
      if (!row.team) return; 
      const tr = document.createElement("tr");
      tr.innerHTML = `
        <td>${row.team}</td>
        <td>${row.Won}</td>
        <td>${row.Points}</td>
        <td>${row.TotalScores}</td>
        <td>${row.Diff}</td>
      `;
      tbody.appendChild(tr);
    });
  }

  // Load Group A by default
  loadGroup("A");
  </script>
  <section id="qfranking">
    <!-- QF Rankings -->
    <div class="table-container">
      <h3 style="color:#1e3a8a; text-align:center; margin-bottom:1rem;">üèÖ Rankings for QF Games</h3>

      <table id="qf-table" border="1" cellspacing="0" cellpadding="5" style="width:100%; border-collapse:collapse; text-align:center;">
        <thead>
          <tr>
            <th>Rank</th>
            <th>Team</th>
            <th>Total Points</th>
            <th>Total Scores</th>
            <th>Diff.</th>
          </tr>
        </thead>
        <tbody>
          <!-- Filled by JavaScript -->
        </tbody>
      </table>
    </div>

    <script>
      async function loadQFRankings() {
        const response = await fetch("data/qfRankings.json");
        const rankings = await response.json();

        const ranks = [
          { label: "GT-R1", style: "background:#dbeafe;" },
          { label: "GT-R2", style: "background:#dbeafe;" },
          { label: "GT-R3", style: "background:#dbeafe;" },
          { label: "GT-R4", style: "background:#dbeafe;" },
          { label: "GT-R5", style: "background:#dbeafe;" },
          { label: "GT/WC-R6", style: "background:linear-gradient(to right, #dbeafe 50%, #fde68a 50%);" },
          { label: "WC-R7", style: "background:#fde68a; color:#b45309;" },
          { label: "WC-R8", style: "background:#fde68a; color:#b45309;" }
        ];

        const tbody = document.querySelector("#qf-table tbody");
        tbody.innerHTML = "";

        ranks.forEach((rank, i) => {
          const rowData = rankings[i] || { Team: "", TotalScores: "", ScoreDiff: "" };

          const tr = document.createElement("tr");
          tr.innerHTML = `
            <td style="border:1px solid #000; ${rank.style}">${rank.label}</td>
            <td>${rowData.Team}</td>
            <td>${rowData.TotalPoints}</td>
            <td>${rowData.ScoreDiff}</td>
          `;
          tbody.appendChild(tr);
        });
      }
      loadQFRankings();
    </script>
    <!-- Knockout Bracket -->
    <h3 style="color:#1e3a8a; text-align:center; margin-bottom:2rem;">üèÜ Knockout Bracket</h3>
    <img src="images/brackets-xs.png" 
      alt="Knockout bracket" 
      style="display:block; margin:0 auto; max-width:100%; height:auto;">
  </section>
  <section id="format" data-aos="fade-up" style="padding: 3rem 1rem; background: linear-gradient(135deg, #f8fafc, #eef2ff);">
    <!-- Wrapper Flexbox -->
    <div style="max-width:900px; margin:auto; display:flex; flex-direction:column; gap:2rem;">

    <!-- Format -->
    <div style="padding:1rem; background:white; border-radius:12px; box-shadow:0 3px 6px rgba(0,0,0,0.08);">
      <h3 style="color:#1e3a8a; margin-bottom:1rem;">Tournament Format</h3>
      <p><strong>Group Games:</strong></p>
      <p>All registered teams (Max 24) are divided into groups based on skill level with 4 teams in each Group.
      <br><br> 
      Each team will play one game against every team within a group. The teams will be ranked within the Group and overall as per their points/scores in group games.</p>
      <p><strong>Playoff Games:</strong></p>
      <p>The top ranked team of all groups will qualify for quarterfinals (QF) and ranked as per overall ranking for QF games. 
      <br><br>
      The top 2 or 3 teams (depending on number of groups) in the overall ranking of remaining teams will also qualify for the quarterfinals as wild card entry.</p>
    </div>
  </section>
  <section id="rules" data-aos="fade-up" style="padding: 3rem 1rem; background: linear-gradient(135deg, #f8fafc, #eef2ff);">
    <h2>General Rules & Format</h2>
    <ol style="line-height: 1.8; font-size: 1.1rem;">
      <li>üë• All registered teams (max 24) are divided into groups with 4 teams in each group.</li>
      <li>üè∏ Each team plays one game against every team in its group. Rankings are based on points/scores.</li>
      <li>üî¢ All games rally point to 21 (maximum 30 points ‚Äì ends when a team reaches 30).</li>
      <li>ü•á Winners get 2 points; losers get 0. Scores are recorded.</li>
      <li>üö´ No-show results in a walkover win for the present team (2 points awarded).</li>
      <li>‚öñÔ∏è If points are tied, score differential decides ranking.</li>
      <li>üèÜ Top teams from each group qualify for quarterfinals, ranked by performance.</li>
      <li>‚≠ê Top 2 or 3 remaining teams overall may qualify as wild card entries.</li>
      <li>üî® Referees' decisions are final.</li>
      <li>ü§ù Players must not argue with opponents. Violators may be disqualified.</li>
      <li>üéØ Group games are 1 set. Playoffs are best of 3 sets.</li>
      <li>‚è±Ô∏è Water breaks: 1 minute mid-set; 3 minutes between sets. No other breaks allowed.</li>
      <li>‚ÜîÔ∏è Teams switch sides after 10 points in group games and during 3rd playoff sets.</li>
      <li>üîÑ Substitutions allowed only during group stage in case of injury. No subs in playoffs.</li>
    </ol>
  </section>
  <style>
    #standings {
      text-align: center;
      margin-top: 30px;
    }

    .table-container {
      display: flex;
      justify-content: center;
    }

    #standings-table {
      border-collapse: collapse;
      width: 70%;
      max-width: 800px;
      text-align: center;
    }

    #standings-table th, 
    #standings-table td {
      border: 1px solid #444;
      padding: 8px;
    }

    #standings-table th {
      background-color: #f2f2f2;
    }

    .tab-btn {
      margin: 5px;
      padding: 10px 15px;
      border: none;
      background: #6366f1;
      color: #fff;
      border-radius: 6px;
      cursor: pointer;
      font-size: 14px;
    }
    .tab-btn:hover {
      background: #4f46e5;
    }
  </style>

  <footer>
    <p>&copy; 2025 MCCR-NCR Badminton Tournament. All rights reserved.</p>
  </footer>
</body>
</html>